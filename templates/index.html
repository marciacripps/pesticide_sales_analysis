<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pesticide Sales Dashboard</title>
    <!-- Include Tableau JS API -->
    <script src="https://public.tableau.com/javascripts/api/tableau-2.min.js"></script>
</head>
<body>
    <h1>Pesticide Sales Dashboard</h1>

    <!-- Embed Tableau Viz -->
    <div id="vizContainer" style="width:100%; height:800px;"></div>

    <script type="text/javascript">
        function initViz() {
            const containerDiv = document.getElementById("vizContainer"),
                url = "https://public.tableau.com/views/pesticide_sales_17287054268960/Dashboard1";
            
            const options = {
                hideTabs: true,
                onFirstInteractive: function () {
                    console.log("Dashboard has finished loading.");
                }
            };

            const viz = new tableau.Viz(containerDiv, url, options);
        }

        window.onload = initViz;
    </script>

    <!-- Link to view top products -->
    <a href="/top-products">View Top Products</a>
    <br>
    <!-- Link to download CSV -->
    <a href="/download-product-sales">Download Product Sales CSV</a>
</body>
</html>
